# 设计文档
## 综述
本次比赛设计分为三部分：

为用户推荐与自身信息相匹配的职位
    这一部分主要通过将用户简历和职位信息进行匹配，为用户推荐与其自身基本信息相匹配的职位。
    
为用户推荐用户想寻找的职位
    这一部分主要是通过用户的行为为用户推荐其想要寻找的职位。
为用户推荐质量高的职位
    这一部分主要是为用户推荐质量高的公司和职位。
    质量高是指公司经营状况良好，信誉好，管理规范，为员工提供好的福利保障等。
    职位的点击量也能一定程度上反映出职位的情况。
最后综合这三部分为职位打出总分。
## 模型篇
    第一部分与第三部分均未实现。
    第二部分使用的算法有：
	逻辑回归，决策树回归，支持向量机，为每个用户训练一个模型，
	协同过滤(具体使用的算法是矩阵分解算法ALS)。
    还有一个指标是职位的日均点击量，为了使结果分布更紧凑，便于与其它模型的得分进行组合，所以开了根号。
    最后组合各个模型指标的分数，比如使用逻辑回归或SVM为各个模型的得分训练一个模型，然后得到综合分数。
  
## 属性篇
使用的基础属性有：
是否接受应届生，企业人数，工作地区，工作类别，薪资, 学历要求, 工作年限，五险一金，包住，包吃，年底双薪，周末双休，交通补助，加班补助，餐补，话补，房补，会有加班，需要出差，需要管理团队，异地派遣工作，企业性质，职位行业。

另外从职位亮点文字信息中大致提取了以下信息（"""里为匹配的正则表达式）：
"""六险|6险|六金|6金|商业险|商业保险|补充医疗|商业医疗|意外险"""：是否有补充商业险
"""险|社保"""		： 是否有保险
"""礼物|福利|节""" 	：是否有节日/礼品
"""年终奖|奖金|提成|分红"""
"""股权"""
“""旅游"""
“""年假"""
"""班车|接送"""
"""培训"""
"""便利"""

    对于很多蓝领招聘的职位，对很多属性如学历, 工作年限的要求可能并不高，薪资对同一地区的同一工作可能也没有太大的区分度。所以我们需要更多的信息和各个行业用户关心的问题，或许我们可以从职位详情里提取各个行业职位的一些关键词和热搜词进行分析。如建议将是否倒班或需要上夜班做为工作的属性让用户在发布职位时填写。即可以实现行业个性化。
## 数据处理
  多类别属性均使用one-hot编码。其中工作类别和地区使用的是用户点击过的工作类别和地区进行one-hot编码，而不是使用所有职位类别和地区。
    由于正样本（用户点击，投递的职位）数量相对负样本(展示的职位)的数量较少，所以采用了过分抽样，使正负样本的数量相当。
    决策树回归训练时将未点击记录记为0，点击记录标为1，投递记录(包括用户点击查看电话，在线交流和投递的职位)标记为2，然后进行过份抽样，使三者的数量相当。
    正负样本之间的数据可能有重覆，即负样本中可能包含正样本，或许应该将负样本中的正样本去除。

## 得分篇
各个模型中AUC得分最高的是逻辑回归，为：0.69228768。
综合职位的日均点击量后对结果有微小提升，为：0.69379398。
决策树回归得分为：0.65467391
SVM得分不高(好像spark mllib中的svm不能设置核函数，所以是线性分类)。
协同过滤的得分较低(rank等参数或许应调高一些，但调高之后系统报栈溢出)。
组合各个模型的结果也并不理想。
所以最终的得分为逻辑回归综合职位的日均点击量后的得分，为0.69379398。

赛后由排名靠前同学的分享知，使用点击率进行预测，得分可达0.7以上。
